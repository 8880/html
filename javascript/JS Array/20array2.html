<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>数组方法</title>
  </head>
  <body>

    <script type="text/javascript">
      var a1 = [1, 2, 3];
      //直接指定下标进行添加
      a1[3] = 4;
      a1[4] = 5;
      console.log(a1);

      console.log('************************push*****************************');

      //末尾的添加,删除
      a1.push(10, 20, 30);
      console.log(a1);

      delete a1[0];//不影响长度,位置变为undefined
      console.log(a1);

      //删除最后一个,长度减1
      a1.pop();
      console.log(a1);

      console.log("**********************shift******************************");
      //开头删除,添加
      //shift unshift
      var a2 = [1, 2, 3, 4, 5];
      console.log(a2.shift()) // 1
      console.log(a2)

      //加到最前面
      //a2.unshift(10, 22, 33);
      a2.unshift(10);
      a2.unshift(22);
      a2.unshift(33);
      console.log(a2);

      console.log("**********************遍历********************************")

      //遍历方式
      for (var i in a2) {
        //console.log(i);//下标
        console.log(a2[i])
      }

      console.log("************************join******************************")

      //join 数组拼接
      a3 = ["ds", 34, "gfdr", 44, "dfs321"]
      //原数组不会改变
      console.log(a3.join());
      console.log(a3.join(""))
      console.log(a3.join('*'))
      console.log(a3.join(' '))

      console.log("***********************reverse***************************")

      //reverse颠倒,数组本身也被修改了
      var a4 = ['h', '2', 3, 4, 'wo'];
      a4.reverse();
      console.log(a4);
      console.log(a4.reverse())

      console.log('********************************************************')

      //普通类型,相互之间修改不影响
      var b1 = b2 = 52;
      console.log(b1, b2);//52, 52

      b2 = 2;
      console.log(b1, b2);//52, 2


      /*
      引用类型: 如果引用的是同一块内存地址，那么相互之间修改会有影响
      */

      //a5, a6是同一块内存地址
      var a5 = a6 = [1, 2, 3, 4, 5];
      console.log(a5, a6);
      a6[0] = 100;
      console.log(a5, a6);

      //注意区分
      var a7 = [1,2,3,4,5], a8 = [1,2,3,4,5];
      a7[0] = 100;
      console.log(a7,a8)

      console.log('**********************sort******************************')

      //sort排序

      var a9 = [10, 2, 4, 3, 80];
      //影响原数组
      a9.sort()
      console.log(a9)//按照字符的编码进行排序，默认从小到大

      // sort传入参数进行排序
      a9.sort(function(a, b){
        console.log("a = %d, b = %d", a, b);

        //从小到大排序
        return a - b;
        //从大到小排序
        //return b - a;
      });

      console.log(a9)
      //从大到小 ==> a9.reverse();

      console.log("**********************concat****************************")

      //concat 连接数组, 可以填写任何个参数
      var a10 = ['hello', 'world', 'goole'];
      var a11 = ['iphonex', 'apple'];

      console.log(a10.concat(a11, 'android'));

      console.log('***********************slice*****************************')

      //slice 数组切片 (不影响原数组)
      var a12 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

      //begin end(不包括)
      console.log(a12.slice(1,4));
      console.log(a12.slice());//全切
      console.log(a12.slice(3));//从4开始切，到最后
      console.log(a12.slice(-7,8));//从4开始。。。。

      var result = a12.slice(0,3);
      result[0] = 100;
      //result, a12不是同一块内存地址，相互不影响
      console.log(a12, result)

      //slice浅复制(引用类型)
      var a13 = [[100,200,300],1,2,3,4,5];
      result = a13.slice(0,3)

      //修改切片后的数组
      result[0][0] = 1000;
      console.log(a13, result); //原的也改变

      console.log("************************splice****************************");

      //splice: 添加, 删除, 修改
      var myFish = ['angel', 'clown', 'mandarin', 'surgeon'];
      result = myFish.splice(0, 1);//在下标0的位置删除1个参数
      console.log(myFish, result);

      //任意位置添加
      myFish.splice(1, 0, 'hello', 'world');//在下标为1的位置0个删除,添加参数
      console.log(myFish);

      //修改
      myFish.splice(2,1, "china");//在下标为2的位置删除一个在添加一个
      console.log(myFish);

      console.log('***********************toString***************************');

      console.log(myFish.toString());//与join一样
      console.log(myFish.join());

      console.log('***********************forEach****************************');

      // forEach直接遍历
      var a14 = [1, 3, 4, 6, 5, 6, 7, 8, 9];
      var sum = 0;

      //直接遍历
      a14.forEach(function(current, index, arr){
        console.log('current = ', current);
        // console.log("index = ", index);
        // console.log("arr = ", arr);
        sum += current;
      });
      console.log(sum);

      console.log('**************************map****************************');

      //map方法创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。

      /*
      example: 每个元素 + 10
      原来方法:
       for (var i = 0; i < a14.length; i++) {
         a14[i] += 10;
       }
       */

      a15 = [1, 3, 5, 6, 4];
      var result = a15.map(function(current, index, arr){

        //map需要每次返回，由返回的数据共同组成一个新数组
          return current + 10;
      });

      console.log(result);

      console.log('**********************indexOf****************************');

      //indexOf()方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。

      //查找
      var a16 = [10, 20, 30, 20, 80, 60, 24];
      console.log(a16.indexOf(60));//5
      console.log(a15.indexOf(200));//-1

    </script>
  </body>
</html>
